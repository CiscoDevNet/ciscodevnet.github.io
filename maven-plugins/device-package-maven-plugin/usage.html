<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8 from src/site/apt/usage.apt.vm at 2018-02-15
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Creation-yyyymmdd" content="20180119" />
    <meta name="Date-Revision-yyyymmdd" content="20180215" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Device Package Maven Plugin &#x2013; Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <a href="https://github.com/ciscodevnet/maven-plugins">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="https://www.cisco.com/" id="bannerLeft"><img src="images/cisco-large.png"  alt=""/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
      <li class=""><a href="../.." title="Cisco">Cisco</a><span class="divider">/</span></li>
      <li class=""><a href="./" title="Maven Plugins">Maven Plugins</a><span class="divider">/</span></li>
      <li class=""><a href="./" title="Device Package Maven Plugin">Device Package Maven Plugin</a><span class="divider">/</span></li>
    <li class="active ">Usage</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2018-02-15</li>
          <li id="projectVersion" class="pull-right">Version: 1.0.0</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="plugin-info.html" title="Goals"><span class="none"></span>Goals</a></li>
    <li class="active"><a href="#"><span class="none"></span>Usage</a></li>
    <li><a href="license.html" title="License"><span class="none"></span>License</a></li>
    <li><a href="changes-report.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
      <li class="nav-header">Community</li>
    <li><a href="https://developer.cisco.com" class="externalLink" title="Cisco DevNet"><span class="none"></span>Cisco DevNet</a></li>
    <li><a href="../.." title="Cisco DevNet on GitHub"><span class="none"></span>Cisco DevNet on GitHub</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="https://www.cisco.com" title="Cisco" class="builtBy"><img class="builtBy"  alt="Cisco" src="images/cisco-small.png"    /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<div class="section">
<h2><a name="Usage"></a>Usage</h2>
<p>The Device Package Maven Plugin supports multiple project types, and is configured by setting the appropriate packaging type for your project:</p>
<ul>
<li><i>Device Profile</i>: By using <tt>&lt;packaging&gt;dar&lt;/packaging&gt;</tt></li>
<li><i>Network Feature</i>: By using <tt>&lt;packaging&gt;feature&lt;/packaging&gt;</tt></li>
<li><i>XDE</i>: By using <tt>&lt;packaging&gt;xar&lt;/packaging&gt;</tt></li></ul>
<p>Example:</p>
<div class="source"><pre class="prettyprint">&lt;project&gt;
  &lt;groupId&gt;com.cisco.sample&lt;/groupId&gt;
  &lt;artifactId&gt;SampleDeviceProfile&lt;/artifactId&gt;
  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
  &lt;packaging&gt;dar&lt;/packaging&gt;
  [...]
&lt;/project&gt;</pre></div>
<p>Once the packaging is set, update the <i>build</i> section to use the <i>device-package-maven-plugin</i>, being sure to set <tt>extensions=true</tt>, so that the custom packaging types can be registered with Maven.</p>
<p>Example:</p>
<div class="source"><pre class="prettyprint">&lt;project&gt;
  [...]
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.cisco.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;device-package-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0.0&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;              </pre></div>
<p>NOTE: If you are using a Parent POM the <tt>version</tt> and <tt>extensions</tt> configuration can be managed centrally in the Parent POM's <tt>&lt;build&gt;&lt;pluginManagement&gt;</tt> section.</p>
<div class="section">
<h3><a name="SDU_Creation"></a>SDU Creation</h3>
<p>For the supported project types, SDU creation is disabled by default, but can be built with <tt>-DcreateSDU=true</tt> command line argument, or by configuring the plugin in the POM:</p>
<div class="source"><pre class="prettyprint">&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;com.cisco.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;device-package-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;1.0.0&lt;/version&gt;
      &lt;extensions&gt;true&lt;/extensions&gt;
      &lt;configuration&gt;
        &lt;createSDU&gt;true&lt;/createSDU&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;</pre></div></div>
<div class="section">
<h3><a name="Aggregated_SDU_of_All_Projects"></a>Aggregated SDU of All Projects</h3>
<p>SDU Creation is also supported on Maven aggregator projects with <tt>&lt;packaging&gt;pom&lt;/packaging&gt;</tt>, but with the following caveat:</p>
<ul>
<li>The aggregator POM cannot also be the Parent POM of the child device package projects. Such configuration creates a circular dependency where the Aggregator needs its <i>modules</i> to build first so it can create the aggregated SDU, but the child <i>modules</i> need the parent to build so it can inherit the POM configuration. </li></ul>
<p>To resolve this, a stand-alone Parent POM must be created. The Parent POM can be used as the parent for both the aggregator POM as well as all device package projects to help ensure common configuration across all projects. It can even be listed as module of the aggregator POM.</p>
<p>To enable aggregated SDU creation, the <tt>create-sdu</tt> goal needs to be explicitly configured as an <tt>execution</tt> step in your aggregator POM. </p>
<p>Example: </p>
<div class="source"><pre class="prettyprint">&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;com.cisco.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;device-package-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;1.0.0&lt;/version&gt;
      &lt;extensions&gt;true&lt;/extensions&gt;
      &lt;configuration&gt;
        &lt;createSDU&gt;true&lt;/createSDU&gt;
      &lt;/configuration&gt;
      &lt;executions&gt;
        &lt;execution&gt;
          &lt;id&gt;create-aggregated-sdu&lt;/id&gt;
          &lt;goals&gt;
            &lt;goal&gt;create-sdu&lt;/goal&gt;
          &lt;/goals&gt;
        &lt;/execution&gt;
      &lt;/executions&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;</pre></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2018
<a href="https://www.cisco.com">Cisco Systems, Inc.</a>.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
